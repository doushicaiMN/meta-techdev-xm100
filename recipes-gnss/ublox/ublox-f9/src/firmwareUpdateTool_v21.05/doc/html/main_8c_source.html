<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ubxfwupdate: main.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="u-blox_logo_09.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ubxfwupdate
   &#160;<span id="projectnumber">21.05</span>
   </div>
   <div id="projectbrief">Firmware Update Tool Documentation &mdash; Copyright (c) 2015 u-blox AG.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">main.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="main_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) u-blox AG</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * u-blox AG, Thalwil, Switzerland</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Permission to use, copy, modify, and distribute this software for any</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * purpose without fee is hereby granted, provided that this entire notice</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * is included in all copies of any software which is or includes a copy</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * or modification of this software and in all copies of the supporting</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * documentation for such software.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * THIS SOFTWARE IS BEING PROVIDED &quot;AS IS&quot;, WITHOUT ANY EXPRESS OR IMPLIED</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * WARRANTY. IN PARTICULAR, NEITHER THE AUTHOR NOR U-BLOX MAKES ANY</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * REPRESENTATION OR WARRANTY OF ANY KIND CONCERNING THE MERCHANTABILITY</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * OF THIS SOFTWARE OR ITS FITNESS FOR ANY PARTICULAR PURPOSE.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *******************************************************************************</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Project: firmwareUpdateTool v21.05</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Purpose: Provide sample code to do a FW update</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/*!</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">  \file</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">  \brief  Firmware Update Sample Application for u-blox 5 onward</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">  This file includes code for command line parameters parsing only.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/*!</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">  \mainpage</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">  This is the source code documentation for the u-blox firmware update</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">  tool supporting u-blox receivers from generation 5 onward.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">  This source code is provided as sample code. A released version of this</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">  sample code can be expected to be compilable on x86 systems under Windows 7</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">  and above as well as Ubuntu Linux systems. Compilation and usability on</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">  other hardware platforms and operating systems might be possible, but is</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">  not supported.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">  This document is not meant to be a user manual. Actually, it should be</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">  considered a quick help in getting an overview on the source code delivered.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  To get a quick overview over the update algorithm, take a look at main.c,</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">  where one can find the conversion of the arguments. The core of the update</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">  algorithm is contained in update.c, this includes a straight-forward state</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">  machine which is easily understandable.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">  \section interfaces Supported interfaces</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">  The tool supports also the following interfaces:</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">  &lt;ul&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    &lt;li&gt;Serial port&lt;/li&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    &lt;li&gt;Serial port over Ethernet&lt;/li&gt;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">    &lt;li&gt;SPI with the Aardvark tool (http://www.totalphase.com)&lt;/li&gt;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">    &lt;li&gt;I2C with the Diolan U2C-12 converter (http://www.diolan.com)&lt;/li&gt;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">  &lt;/ul&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">  &lt;b&gt;Important information for version 1.7.2.0 and newer&lt;/b&gt;:&lt;br/&gt;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  The library and the header file for the Diolan U2C-12 adapter is no longer</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  distributed in this package because of license questions. Please download</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">  and install the latest version library from the Diolan homepage</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  http://www.diolan.com/products/u2c12/downloads.html and add the file</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">  &lt;DIOLAN_INSTALLATION_DIRECTORY&gt;/Src/Common/i2cbridge.h to this project.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">  Furthermore you need to enable the define in the file &lt;code&gt;platform.h&lt;/code&gt;.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">types.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="update_8h.html">update.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="version_8h.html">version.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="platform_8h.html">platform.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="update_core_8h.html">updateCore.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;Windows.h&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//! executable name for usage</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">   86</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//! Print usage of tool to console</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">//! Return codes</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17">   92</a></span>&#160;<span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17">RETURNCODE_e</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17ac7f69f7c9e5aea9b8f54cf02870e2bf8">   94</a></span>&#160;    <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> = 0,        <span class="comment">//!&lt; return code in case of success</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a2de82d028c7bed2e4f1ec6fc6cb6a53e">   95</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a2de82d028c7bed2e4f1ec6fc6cb6a53e">ERROR_ARGUMENTS</a>,    <span class="comment">//!&lt; return code in case of argument errors</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a789481fc6e69b80424d3cb08be01e0d8">   96</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a789481fc6e69b80424d3cb08be01e0d8">ERROR_UPDATE</a>        <span class="comment">//!&lt; return code in case of update failure</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;} <a class="code" href="main_8c.html#a6fe6191f438ec67844fe59d3bd65ca79">RETURNCODE_t</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//! Command line arguments</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">  101</a></span>&#160;<span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_s</a></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a765c11d2930c7c1dd273cc67540baf1e">  103</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>*     <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a765c11d2930c7c1dd273cc67540baf1e">BinaryFileName</a>;     <span class="comment">//!&lt; Filename of binary firmware image</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">  104</a></span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>*     <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">FlashDefFileName</a>;   <span class="comment">//!&lt; Filename of flash definition file</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">  105</a></span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>*     <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">FisFileName</a>;        <span class="comment">//!&lt; Filename of the FIS file</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">  106</a></span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>*     <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">ComPort</a>;            <span class="comment">//!&lt; COM port name</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">  107</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">Baudrate</a>;           <span class="comment">//!&lt; Baudrate for serial port (commanding to safeboot)</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">  108</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">BaudrateSafe</a>;       <span class="comment">//!&lt; Baudrate for serial port (after starting safeboot)</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">  109</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">BaudrateUpd</a>;        <span class="comment">//!&lt; Baudrate for serial port (performing update)</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">  110</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">DoSafeBoot</a>;         <span class="comment">//!&lt; Command safeboot start before update</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">  111</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">DoReset</a>;            <span class="comment">//!&lt; Reset receiver after FW update</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">  112</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span>             <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">Verbose</a>;            <span class="comment">//!&lt; Verbose mode</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">  113</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">Autobaud</a>;           <span class="comment">//!&lt; Autobaud on safeboot identification</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a71ebabac5763550d38dbbb215274937a">  114</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a71ebabac5763550d38dbbb215274937a">EraseWholeFlash</a>;    <span class="comment">//!&lt; Erase whole flash (always set to 1)</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">  115</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">EraseOnly</a>;          <span class="comment">//!&lt; Perform only erase operation</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">  116</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">TrainingSequence</a>;   <span class="comment">//!&lt; Training sequence</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a019b457b723869bce1c0701b1ab4b217">  117</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a019b457b723869bce1c0701b1ab4b217">fisOnly</a>;            <span class="comment">//!&lt; Program only the FIS image to the flash device</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">  118</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">chipErase</a>;          <span class="comment">//!&lt; Do a chip erase instead of sector erases</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">  119</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">noFisMerging</a>;       <span class="comment">//!&lt; Don&#39;t merge the image with anything</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">  120</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">updateRam</a>;          <span class="comment">//!&lt; Update RAM</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">  121</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>            <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">usbAltMode</a>;         <span class="comment">//!&lt; Use USB alternative mode</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span>} <a class="code" href="main_8c.html#a75cffd56eefa0719d13f5bafc4ceb005">CL_ARGUMENTS_t</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="main_8c.html#a5ac38161b930ab1663dd88b99331096a">  123</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_t</a>* <a class="code" href="main_8c.html#a5ac38161b930ab1663dd88b99331096a">CL_ARGUMENTS_pt</a>; <span class="comment">//!&lt; pointer to CL_ARGUMENTS_t type</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span><span class="comment"></span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//! Argument enumeration</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4">  126</a></span>&#160;<span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4">ARG_e</a></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">  128</a></span>&#160;    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a> = 0,    <span class="comment">//!&lt; Unknown</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97">  129</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97">BAUDRATE</a>,           <span class="comment">//!&lt; Baudrate</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841">  130</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841">PORT</a>,               <span class="comment">//!&lt; Port name</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9">  131</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9">FLASHFILE</a>,          <span class="comment">//!&lt; Flash definition filename</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1">  132</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1">FISFILE</a>,            <span class="comment">//!&lt; FIS filename</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">  133</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a>,               <span class="comment">//!&lt; Help request</span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a">  134</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a">VERSION</a>,            <span class="comment">//!&lt; Version request</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e">  135</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e">FILENAME</a>,           <span class="comment">//!&lt; Binary firmware image</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d">  136</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d">DOSAFEBOOT</a>,         <span class="comment">//!&lt; Safeboot flag</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae3b1fc41dd9d6be426016d525576323f">  137</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae3b1fc41dd9d6be426016d525576323f">RAMSAFEBOOT</a>,        <span class="comment">//!&lt; Ram-safeboot flag</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a62258cedb870ed0be06533c4df5ecc56">  138</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a62258cedb870ed0be06533c4df5ecc56">USBPORT</a>,            <span class="comment">//!&lt; Is-usb-port flag</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6">  139</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6">VERBOSITY</a>,          <span class="comment">//!&lt; Verbosity flag</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c">  140</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c">AUTOBAUD</a>,           <span class="comment">//!&lt; Autobaud flag</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05">  141</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05">RESET</a>,              <span class="comment">//!&lt; Reset after update flag</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f">  142</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f">ERASEALL</a>,           <span class="comment">//!&lt; Erase whole flash</span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d">  143</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d">ERASEONLY</a>,          <span class="comment">//!&lt; Don&#39;t perform write operation, only erase flash</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de">  144</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de">TRAINING</a>,           <span class="comment">//!&lt; Training sequence</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217">  145</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217">FIS_ONLY</a>,           <span class="comment">//!&lt; FIS only</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3">  146</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3">CHIP_ERASE</a>,         <span class="comment">//!&lt; Do a chip erase instead of sector erases</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61">  147</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61">NO_FIS_MERGING</a>,     <span class="comment">//!&lt; Don&#39;t merge the image with anything.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d">  148</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d">UPDATE_RAM</a>,         <span class="comment">//!&lt; Update RAM with external image</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653">  149</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653">USB_ALT_MODE</a>,       <span class="comment">//!&lt; Use USB alternative mode for firmware update</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span>} <a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="main_8c.html#a4b6c75aab4206828d6f1ed6ed775d3de">  151</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a>* <a class="code" href="main_8c.html#a4b6c75aab4206828d6f1ed6ed775d3de">ARG_pt</a>; <span class="comment">//!&lt; pointer to ARG_t type</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span><span class="comment"></span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//! Arguments association</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_a_r_g___a_s_s_o_c__s.html">  154</a></span>&#160;<span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_r_g___a_s_s_o_c__s.html">ARG_ASSOC_s</a></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_a_r_g___a_s_s_o_c__s.html#a56667bc3e1414ef87382625ee3f91f67">  156</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="struct_a_r_g___a_s_s_o_c__s.html#a56667bc3e1414ef87382625ee3f91f67">argstr</a>;     <span class="comment">//!&lt; argument string from CL</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct_a_r_g___a_s_s_o_c__s.html#aee318f2d398c2c2c3c2a88bfecf8225a">  157</a></span>&#160;<span class="comment"></span>    <a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a>       <a class="code" href="struct_a_r_g___a_s_s_o_c__s.html#aee318f2d398c2c2c3c2a88bfecf8225a">argass</a>;     <span class="comment">//!&lt; associated argument type</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span>} <a class="code" href="main_8c.html#a8a99998555fe4b551e87b3b692af43b2">ARG_ASSOC_t</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="main_8c.html#afd18889a88289261642cfd93f5366c6a">  159</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="struct_a_r_g___a_s_s_o_c__s.html">ARG_ASSOC_t</a>* <a class="code" href="main_8c.html#afd18889a88289261642cfd93f5366c6a">ARG_ASSOC_pt</a>; <span class="comment">//!&lt; pointer to ARG_ASSOC_t type</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span><span class="comment"></span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//! defaults if no command line arguments provided</span></div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="main_8c.html#a81402f23af960f778c6acc3f6730dad9">  162</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_t</a> <a class="code" href="main_8c.html#a81402f23af960f778c6acc3f6730dad9">defaultargs</a> =</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="stringliteral">&quot;&quot;</span>,                  <span class="comment">//BinaryFileName</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="stringliteral">&quot;&quot;</span>,                  <span class="comment">//FlashDefFileName</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="stringliteral">&quot;flash.xml&quot;</span>,         <span class="comment">//FisFileName</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="stringliteral">&quot;\\\\.\\COM1&quot;</span>,       <span class="comment">//ComPort</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    9600,                <span class="comment">//Baudrate</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    9600,                <span class="comment">//BaudrateSafe</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    115200,              <span class="comment">//BaudrateUpd</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,                <span class="comment">//DoSafeBoot</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,                <span class="comment">//DoReset</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    0,                   <span class="comment">//Verbose</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//Autobaud</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,                <span class="comment">//EraseWholeFlash</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//EraseOnly</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,                <span class="comment">//Send training sequence</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//FisOnly</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//ChipErase</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//NoFisMerging</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//UpdateRam</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,               <span class="comment">//usbAltMode</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;};</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">//! known arguments and according identifier</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="main_8c.html#ab5932dc8383d29dcc5f1be36dc904622">  186</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="struct_a_r_g___a_s_s_o_c__s.html">ARG_ASSOC_t</a> <a class="code" href="main_8c.html#ab5932dc8383d29dcc5f1be36dc904622">knownArgs</a>[] =</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {<span class="stringliteral">&quot;-b&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97">BAUDRATE</a>       },</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    {<span class="stringliteral">&quot;-p&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841">PORT</a>           },</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {<span class="stringliteral">&quot;-f&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9">FLASHFILE</a>      },</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    {<span class="stringliteral">&quot;-F&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1">FISFILE</a>        },</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {<span class="stringliteral">&quot;-h&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a>           },</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {<span class="stringliteral">&quot;-s&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d">DOSAFEBOOT</a>     },</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {<span class="stringliteral">&quot;-v&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6">VERBOSITY</a>      },</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    {<span class="stringliteral">&quot;-R&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05">RESET</a>          },</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {<span class="stringliteral">&quot;-a&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c">AUTOBAUD</a>       },</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {<span class="stringliteral">&quot;-e&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f">ERASEALL</a>       },</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {<span class="stringliteral">&quot;-E&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d">ERASEONLY</a>      },</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {<span class="stringliteral">&quot;-t&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de">TRAINING</a>       },</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    {<span class="stringliteral">&quot;--help&quot;</span>,      <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a>           },</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {<span class="stringliteral">&quot;--version&quot;</span>,   <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a">VERSION</a>        },</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {<span class="stringliteral">&quot;--fis-only&quot;</span>,  <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217">FIS_ONLY</a>       },</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {<span class="stringliteral">&quot;-C&quot;</span>,          <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3">CHIP_ERASE</a>     },</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {<span class="stringliteral">&quot;--no-fis&quot;</span>,    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61">NO_FIS_MERGING</a> },</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {<span class="stringliteral">&quot;--up-ram&quot;</span>,    <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d">UPDATE_RAM</a>     },</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {<span class="stringliteral">&quot;--usb-alt&quot;</span>,   <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653">USB_ALT_MODE</a>   },</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;};</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">//! Set program options</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span><span class="comment">/*!</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">    \param option    option identifier</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">    \param value    value for the option</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    \param clargs    options structures receiving parsed options</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">    \return TRUE if the arguments are valid, FALSE else</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="main_8c.html#a1770e2d49daeb5f1a6ef975c2a2134a1">  216</a></span>&#160;<a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="main_8c.html#a1770e2d49daeb5f1a6ef975c2a2134a1">SetArgument</a>(<a class="code" href="types_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a> option, <a class="code" href="types_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * value, <a class="code" href="types_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_pt</a> clargs)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">static</span> <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> binaryFileGiven = <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">switch</span> (option)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97">BAUDRATE</a>:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        clargs-&gt;Baudrate    = atol(value);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        value = strchr(value,<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (value)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            clargs-&gt;BaudrateSafe = atol(value+1);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            value = strchr(value+1, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">if</span> (value)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                clargs-&gt;BaudrateUpd = atol(value+1);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                clargs-&gt;BaudrateUpd = clargs-&gt;BaudrateSafe;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            clargs-&gt;BaudrateSafe = clargs-&gt;Baudrate;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            clargs-&gt;BaudrateUpd  = clargs-&gt;Baudrate;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841">PORT</a>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        clargs-&gt;ComPort = value;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// do not send training sequence over SPI/I2C</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span>((strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;I2C&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;U2C&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;SPI&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;SPU&quot;</span>, 3) == 0))</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="comment">// set the 0</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            clargs-&gt;TrainingSequence = 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// check for I2C port</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span>((strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;I2C&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;U2C&quot;</span>, 3) == 0) )</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="comment">// set the default baudrates</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            clargs-&gt;Baudrate     = <a class="code" href="platform_8h.html#a3929e9f36e79265486c0cecdefcd6bb7">BaudrateDefaultI2C</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            clargs-&gt;BaudrateSafe = <a class="code" href="platform_8h.html#a3929e9f36e79265486c0cecdefcd6bb7">BaudrateDefaultI2C</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            clargs-&gt;BaudrateUpd  = <a class="code" href="platform_8h.html#a3929e9f36e79265486c0cecdefcd6bb7">BaudrateDefaultI2C</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a>:</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e">FILENAME</a>:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (!binaryFileGiven)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            clargs-&gt;BinaryFileName = value;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            binaryFileGiven = <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9">FLASHFILE</a>:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        clargs-&gt;FlashDefFileName = value;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1">FISFILE</a>:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        clargs-&gt;FisFileName = value;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d">DOSAFEBOOT</a>:</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        clargs-&gt;DoSafeBoot = (atoi(value) != 0);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6">VERBOSITY</a>:</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        clargs-&gt;Verbose = atoi(value);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c">AUTOBAUD</a>:</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        clargs-&gt;Autobaud = (atoi(value) != 0);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05">RESET</a>:</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        clargs-&gt;DoReset = (atoi(value) != 0);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f">ERASEALL</a>:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">// always set this value to 1</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        clargs-&gt;EraseWholeFlash = 1;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d">ERASEONLY</a>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        clargs-&gt;EraseOnly = (atoi(value) != 0);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de">TRAINING</a>:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="comment">// do not send training sequence over SPI/I2C</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">if</span>((strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;I2C&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;U2C&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;SPI&quot;</span>, 3) == 0) ||</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;           (strncmp(clargs-&gt;ComPort, <span class="stringliteral">&quot;SPU&quot;</span>, 3) == 0))</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="comment">// set the 0</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            clargs-&gt;TrainingSequence = 0;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">// evaluate the command line option</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            clargs-&gt;TrainingSequence = (atoi(value) != 0);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217">FIS_ONLY</a>:</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        clargs-&gt;fisOnly = atoi(value) != 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3">CHIP_ERASE</a>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        clargs-&gt;chipErase = (atoi(value) != 0);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61">NO_FIS_MERGING</a>:</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        clargs-&gt;noFisMerging = (atoi(value) != 0);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d">UPDATE_RAM</a>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        clargs-&gt;updateRam = (<a class="code" href="types_8h.html#a05882823395fd219ae0b65679baa29c4">U4</a>)atoi(value);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653">USB_ALT_MODE</a>:</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        clargs-&gt;usbAltMode = (atoi(value) != 0);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">  342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;NAME\n&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    %s - u-blox GNSS receiver firmware update tool v%s\n&quot;</span>, <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a>, <a class="code" href="version_8h.html#a64d7b69eb90245360974277068bd3e4a">PRODUCTVERSTR</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;DESCRIPTION\n&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    Perform flash firmware update of u-blox GNSS receivers (u-blox 5 and later).\n&quot;</span>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    The tool can be also used to erase the whole flash content \n&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    for reverting to factory firmware / defaults.\n&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;SYNOPSIS\n&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    %s [--help] [--version] [-F flash.xml] [-f flash.txt] [--fis-only] [-p port]\n&quot;</span>, <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    [-b baudcur[:baudsafe[:baudupd]]] [-s 1] [-v 0] [-a 0] [-E 1] [-R 0] [-t 1] [-C 0] [--no-fis 0]\n&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    firmware.bin\n&quot;</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;EXIT STATUS\n&quot;</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    0 on success\n&quot;</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    1 if invalid arguments provided\n&quot;</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    2 if update failed\n&quot;</span>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;OPTIONS\n&quot;</span>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --help     display help\n&quot;</span>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --version  display version\n&quot;</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -f         define flash definition filename.\n&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 this parameter is not needed anymore because all the information\n&quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 is compiled in. Use for custom flash definition files only.\n&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -F         define FIS (Flash Information Structure) filename\n&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %s)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">FisFileName</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --fis-only download only the FIS information without firmware (1).\n&quot;</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a019b457b723869bce1c0701b1ab4b217">fisOnly</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -b         switch baudrate to specified value [bit/s]\n&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 first baudrate defines current baudrate\n&quot;</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 second baudrate after colon is used after safeboot\n&quot;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 third baudrate after second colon is used during update\n&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                  (defaults: %u:%u:%u\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">Baudrate</a>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">BaudrateSafe</a>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">BaudrateUpd</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -p         choose port (default: %s)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">ComPort</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 \\\\.\\COMy      - serial (RS232) port y (Windows)\n&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 /dev/ttySy    - serial (RS232) port y (Linux)\n&quot;</span>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                   remark: has to be a valid system device name,\n&quot;</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                   windows maps names &#39;COM1..9&#39; to &#39;\\\\.\\COM1..9&#39;, \n&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                   for ports &gt; 9 use \\\\.\\COMy for device name\n&quot;</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 I2C[y[:0xaa]]   - Aardvark I2C device y (default 0),\n&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                                   slave address aa (default 0x42)\n&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 SPI[y]          - Aardvark SPI device y (default 0),\n&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 U2C[y[:0xaa]]   - Diolan I2C device y (default 0),\n&quot;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                                   slave address aa (default 0x42)\n&quot;</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 SPU[y]          - Diolan SPI device y (default 0)\n&quot;</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 host:port       - network, e.g. through comtrol devicemaster,\n&quot;</span>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 STDIO           - communicate with receiver over stdin and stdout\n&quot;</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#endif //ifdef WIN32</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -s         enter safeboot before updating\n&quot;</span>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">DoSafeBoot</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -v         verbose mode on (1), including packet dump (2) or off (0)\n&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">Verbose</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -a         perform autobauding (1), no autobauding (0) \n&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">Autobaud</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -E         erase only, don&#39;t write anything to flash (erases the first sector)\n&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">EraseOnly</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -R         reset after update completion \n&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">DoReset</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -t         send training sequence (when in safeboot) (not applicable over I2C or SPI)\n&quot;</span>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">TrainingSequence</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    -C         do chip erase instead of sector erases\n&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">chipErase</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --no-fis   don&#39;t merge the image with anything (1) or merge the FIS into the image (0)\n&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">noFisMerging</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --up-ram   download image to CODE-RAM (1) or flash (0)\n&quot;</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">updateRam</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    --usb-alt  use USB alternative mode for firmware update\n&quot;</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;                 (default: %i)\n&quot;</span>, defaultargs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">usbAltMode</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;EXAMPLES\n&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    erase whole flash content:\n&quot;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;      %s -p \\\\.\\COM1 -b 9600 -E 1\n&quot;</span>, <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    program image to flash (on first serial port under Linux):\n&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;      %s -p /dev/ttyS0 -b 9600:9600:115200 -F flash.xml\n&quot;</span>, <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;      &lt;firmware.bin&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    program image to flash (using I2C interface):\n&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;      %s -p I2C0 -b 100000 \n&quot;</span>, <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;      &lt;firmware.bin&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;AUTHOR\n&quot;</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;    u-blox software development team (www.u-blox.com)\n&quot;</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">//! Map the option to an enumeration type</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"></span><span class="comment">/*!</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">    \param  arg         option from command line</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">    \return enumeration type of argument if available, #UNKNOWN_ARG else</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="main_8c.html#a1461e0d43f25b425d3ff968613ed2e73">  437</a></span>&#160;<a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a> <a class="code" href="main_8c.html#a1461e0d43f25b425d3ff968613ed2e73">GetArgAssociation</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * arg)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">while</span> (idx &lt; <span class="keyword">sizeof</span>(knownArgs)/<span class="keyword">sizeof</span>(*knownArgs))</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> (strcmp(arg, knownArgs[idx].argstr) == 0)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">return</span> knownArgs[idx].<a class="code" href="struct_a_r_g___a_s_s_o_c__s.html#aee318f2d398c2c2c3c2a88bfecf8225a">argass</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        idx++;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//! Parse the command line arguments</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="main_8c.html#accc04a85393bc6387e41c498c01d704d">  452</a></span>&#160;<span class="comment"></span><a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="code" href="main_8c.html#accc04a85393bc6387e41c498c01d704d">ParseArguments</a>(<a class="code" href="types_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <span class="keywordtype">int</span> argc, <a class="code" href="types_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <span class="keyword">const</span> argv[], <a class="code" href="types_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_pt</a> clargs)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a> option = <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">//initialize command line arguments structure</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    memcpy(clargs, (<span class="keywordtype">void</span>*)&amp;defaultargs, <span class="keyword">sizeof</span>(*clargs));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">//parse the arguments</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordtype">int</span> arg;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (arg=1; arg &lt; argc; arg++)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">if</span> (argv[arg][0] == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; argv[arg][1] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            option = <a class="code" href="main_8c.html#a1461e0d43f25b425d3ff968613ed2e73">GetArgAssociation</a>(argv[arg]) ;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> (option == <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Unknown Argument: %s\n&quot;</span>, argv[arg]);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (option == <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a>)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (option == <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a">VERSION</a>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;ubxfwupdate %s\n&quot;</span>, <a class="code" href="version_8h.html#a64d7b69eb90245360974277068bd3e4a">PRODUCTVERSTR</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">if</span> (option != <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="comment">//this is the argument of an option</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="comment">//cout&lt;&lt;&quot;Option: &quot;&lt;&lt;option&lt;&lt;&quot; Argument: &quot;&lt;&lt;argv[arg]&lt;&lt;endl;</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <a class="code" href="main_8c.html#a1770e2d49daeb5f1a6ef975c2a2134a1">SetArgument</a>(option, argv[arg], clargs);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                option = <a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="comment">//this is a standalone argument</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <span class="comment">//cout&lt;&lt;&quot;Standalone Argument: &quot;&lt;&lt;argv[arg]&lt;&lt;endl;</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <a class="code" href="main_8c.html#a1770e2d49daeb5f1a6ef975c2a2134a1">SetArgument</a>(<a class="code" href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e">FILENAME</a>, argv[arg], clargs);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// either eraseOnly operation or the binary firmware image name must be set</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (!clargs-&gt;EraseOnly &amp;&amp; (!clargs-&gt;BinaryFileName || !*clargs-&gt;BinaryFileName) &amp;&amp; !clargs-&gt;fisOnly)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">//! Program entry</span></div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97">  510</a></span>&#160;<span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_t</a> clArgs;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> success = <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a> = argv[0];</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="main_8c.html#accc04a85393bc6387e41c498c01d704d">ParseArguments</a>(argc, (<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span>*) argv, &amp;clArgs))</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="platform_8c.html#a7d38348525c2d88f56b48e4a5651ca7e">CONSOLE_INIT</a>();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;----------CMD line arguments-----------\n&quot;</span>                                                          );</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Image file:        %s\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a765c11d2930c7c1dd273cc67540baf1e">BinaryFileName</a>                                                     );</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Flash:             %s\n&quot;</span>, (strlen(clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">FlashDefFileName</a>)?clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">FlashDefFileName</a>:<span class="stringliteral">&quot;&lt;compiled-in&gt;&quot;</span>) );</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Fis:               %s\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">FisFileName</a>                                                        );</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Port:              %s\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">ComPort</a>                                                            );</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Baudrates:         %u/%u/%u\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">Baudrate</a>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">BaudrateSafe</a>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">BaudrateUpd</a>            );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Safeboot:          %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">DoSafeBoot</a>                                                         );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Reset:             %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">DoReset</a>                                                            );</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;AutoBaud:          %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">Autobaud</a>                                                           );</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Verbose:           %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">Verbose</a>                                                            );</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Erase all:         %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a71ebabac5763550d38dbbb215274937a">EraseWholeFlash</a>                                                    );</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Erase only:        %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">EraseOnly</a>                                                          );</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Training sequence: %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">TrainingSequence</a>                                                   );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Chip erase:        %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">chipErase</a>                                                          );</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Merging FIS:       %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">noFisMerging</a>                                                       );</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Update RAM:        %u\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">updateRam</a>                                                          );</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;Use USB alt:       %i\n&quot;</span>, clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">usbAltMode</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a>(<span class="stringliteral">&quot;---------------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        success = <a class="code" href="update_8c.html#a91fe63423c374194e5090f96e17064a6">UpdateFirmware</a>(clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a765c11d2930c7c1dd273cc67540baf1e">BinaryFileName</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">FlashDefFileName</a>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">FisFileName</a>,</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">ComPort</a>,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">Baudrate</a>,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">BaudrateSafe</a>,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">BaudrateUpd</a>,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">DoSafeBoot</a>,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">DoReset</a>,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">Autobaud</a>,</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a71ebabac5763550d38dbbb215274937a">EraseWholeFlash</a>,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">EraseOnly</a>,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">TrainingSequence</a>,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">chipErase</a>,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">noFisMerging</a>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">updateRam</a>,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">usbAltMode</a>,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">Verbose</a>,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                 clArgs.<a class="code" href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a019b457b723869bce1c0701b1ab4b217">fisOnly</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="platform_8c.html#a893956021e39f080363c13adeea56462">MESSAGE</a>(<a class="code" href="platform_8h.html#a10cd4539bac4c67d55db0fa42b4a2333aadaa5a3fb3415c5881e70c7f762f8dd7">MSG_LEV2</a>, <span class="stringliteral">&quot;Firmware Update %s&quot;</span>, (success) ? <span class="stringliteral">&quot;SUCCESS\n&quot;</span> :<span class="stringliteral">&quot;FAILED\n&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="platform_8c.html#a921926b19165f392893df0fde378ae07">CONSOLE_DONE</a>();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="comment">// parsing of arguments failed</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a2de82d028c7bed2e4f1ec6fc6cb6a53e">ERROR_ARGUMENTS</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// indicate the outcome of the firmware update process</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> (success) ? <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> : <a class="code" href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a789481fc6e69b80424d3cb08be01e0d8">ERROR_UPDATE</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="ttc" id="struct_a_r_g___a_s_s_o_c__s_html_a56667bc3e1414ef87382625ee3f91f67"><div class="ttname"><a href="struct_a_r_g___a_s_s_o_c__s.html#a56667bc3e1414ef87382625ee3f91f67">ARG_ASSOC_s::argstr</a></div><div class="ttdeci">const char * argstr</div><div class="ttdoc">argument string from CL </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00156">main.c:156</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a3bfb53f277eadee492df6afd8158e6df"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a3bfb53f277eadee492df6afd8158e6df">CL_ARGUMENTS_s::updateRam</a></div><div class="ttdeci">unsigned int updateRam</div><div class="ttdoc">Update RAM. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00120">main.c:120</a></div></div>
<div class="ttc" id="main_8c_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdoc">Program entry. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00510">main.c:510</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0d6b961a07b651340b0a607205e0df3d">ERASEONLY</a></div><div class="ttdoc">Don&#39;t perform write operation, only erase flash. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00143">main.c:143</a></div></div>
<div class="ttc" id="types_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div><div class="ttdoc">Types definitions. </div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a0063a6555ca09e63fa1ef612878eaa61">NO_FIS_MERGING</a></div><div class="ttdoc">Don&#39;t merge the image with anything. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00147">main.c:147</a></div></div>
<div class="ttc" id="main_8c_html_a40185ea52d16cecaafae70740e90af29"><div class="ttname"><a href="main_8c.html#a40185ea52d16cecaafae70740e90af29">Usage</a></div><div class="ttdeci">void Usage(void)</div><div class="ttdoc">Print usage of tool to console. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00342">main.c:342</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a302591bb736c754da4b195a84bf4212f">ERASEALL</a></div><div class="ttdoc">Erase whole flash. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00142">main.c:142</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a6319b383cb39743e21bbcb9c57cd2546"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6319b383cb39743e21bbcb9c57cd2546">CL_ARGUMENTS_s::chipErase</a></div><div class="ttdeci">BOOL chipErase</div><div class="ttdoc">Do a chip erase instead of sector erases. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00118">main.c:118</a></div></div>
<div class="ttc" id="platform_8c_html_a921926b19165f392893df0fde378ae07"><div class="ttname"><a href="platform_8c.html#a921926b19165f392893df0fde378ae07">CONSOLE_DONE</a></div><div class="ttdeci">void CONSOLE_DONE(void)</div><div class="ttdoc">cleanup console </div><div class="ttdef"><b>Definition:</b> <a href="platform_8c_source.html#l02103">platform.c:2103</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html">CL_ARGUMENTS_s</a></div><div class="ttdoc">Command line arguments. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00101">main.c:101</a></div></div>
<div class="ttc" id="platform_8c_html_a893956021e39f080363c13adeea56462"><div class="ttname"><a href="platform_8c.html#a893956021e39f080363c13adeea56462">MESSAGE</a></div><div class="ttdeci">void MESSAGE(MSG_LEVEL level, const CH *format,...)</div><div class="ttdoc">Print status message. </div><div class="ttdef"><b>Definition:</b> <a href="platform_8c_source.html#l01992">platform.c:1992</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_acb54f173c9d5159a0e40ae14f4d1e457"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#acb54f173c9d5159a0e40ae14f4d1e457">CL_ARGUMENTS_s::FlashDefFileName</a></div><div class="ttdeci">const char * FlashDefFileName</div><div class="ttdoc">Filename of flash definition file. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00104">main.c:104</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a8268527d969e4ef493d3f35844a0b841">PORT</a></div><div class="ttdoc">Port name. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00130">main.c:130</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a8441557a020a1796a2c9e890cfaee4fe"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a8441557a020a1796a2c9e890cfaee4fe">CL_ARGUMENTS_s::ComPort</a></div><div class="ttdeci">const char * ComPort</div><div class="ttdoc">COM port name. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00106">main.c:106</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a11bacf35dc7014e65844bab618984653">USB_ALT_MODE</a></div><div class="ttdoc">Use USB alternative mode for firmware update. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00149">main.c:149</a></div></div>
<div class="ttc" id="platform_8c_html_a591fafe6c761800ebd98e966554b06c8"><div class="ttname"><a href="platform_8c.html#a591fafe6c761800ebd98e966554b06c8">MESSAGE_PLAIN</a></div><div class="ttdeci">void MESSAGE_PLAIN(const CH *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="platform_8c_source.html#l01971">platform.c:1971</a></div></div>
<div class="ttc" id="types_8h_html_a05882823395fd219ae0b65679baa29c4"><div class="ttname"><a href="types_8h.html#a05882823395fd219ae0b65679baa29c4">U4</a></div><div class="ttdeci">unsigned __int32 U4</div><div class="ttdoc">32-bit unsigned integer number </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00054">types.h:54</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a71ebabac5763550d38dbbb215274937a"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a71ebabac5763550d38dbbb215274937a">CL_ARGUMENTS_s::EraseWholeFlash</a></div><div class="ttdeci">BOOL EraseWholeFlash</div><div class="ttdoc">Erase whole flash (always set to 1) </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00114">main.c:114</a></div></div>
<div class="ttc" id="main_8c_html_accc04a85393bc6387e41c498c01d704d"><div class="ttname"><a href="main_8c.html#accc04a85393bc6387e41c498c01d704d">ParseArguments</a></div><div class="ttdeci">BOOL ParseArguments(int argc, char const *const argv[], CL_ARGUMENTS_pt clargs)</div><div class="ttdoc">Parse the command line arguments. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00452">main.c:452</a></div></div>
<div class="ttc" id="main_8c_html_a2a22a0f0889f442944bc95e38c13fa17ac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a></div><div class="ttdoc">return code in case of success </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00094">main.c:94</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a4d4619d431bd66b8a984b8d85baabe28"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a4d4619d431bd66b8a984b8d85baabe28">CL_ARGUMENTS_s::BaudrateUpd</a></div><div class="ttdeci">unsigned int BaudrateUpd</div><div class="ttdoc">Baudrate for serial port (performing update) </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00109">main.c:109</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a019b457b723869bce1c0701b1ab4b217"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a019b457b723869bce1c0701b1ab4b217">CL_ARGUMENTS_s::fisOnly</a></div><div class="ttdeci">BOOL fisOnly</div><div class="ttdoc">Program only the FIS image to the flash device. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00117">main.c:117</a></div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="platform_8h.html">platform.h</a></div><div class="ttdoc">Defines and Prototypes for platform specifics. </div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a66f3f7939e16241b277fd64aa08339db"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a66f3f7939e16241b277fd64aa08339db">CL_ARGUMENTS_s::FisFileName</a></div><div class="ttdeci">const char * FisFileName</div><div class="ttdoc">Filename of the FIS file. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00105">main.c:105</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a41158e3b0127426620e89a67e6d20808"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a41158e3b0127426620e89a67e6d20808">CL_ARGUMENTS_s::Verbose</a></div><div class="ttdeci">int Verbose</div><div class="ttdoc">Verbose mode. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00112">main.c:112</a></div></div>
<div class="ttc" id="main_8c_html_a75cffd56eefa0719d13f5bafc4ceb005"><div class="ttname"><a href="main_8c.html#a75cffd56eefa0719d13f5bafc4ceb005">CL_ARGUMENTS_t</a></div><div class="ttdeci">struct CL_ARGUMENTS_s CL_ARGUMENTS_t</div><div class="ttdoc">Command line arguments. </div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a4769922f2eb8a1083b607fcca642f7de">TRAINING</a></div><div class="ttdoc">Training sequence. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00144">main.c:144</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a6e06c4671f3f707a059df58cba55bc51"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a6e06c4671f3f707a059df58cba55bc51">CL_ARGUMENTS_s::BaudrateSafe</a></div><div class="ttdeci">unsigned int BaudrateSafe</div><div class="ttdoc">Baudrate for serial port (after starting safeboot) </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00108">main.c:108</a></div></div>
<div class="ttc" id="types_8h_html_a050c65e107f0c828f856a231f4b4e788"><div class="ttname"><a href="types_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a></div><div class="ttdeci">int BOOL</div><div class="ttdoc">Boolean type. </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00073">types.h:73</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6bf36668379ae8a9182fd94d836d8b5d">UPDATE_RAM</a></div><div class="ttdoc">Update RAM with external image. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00148">main.c:148</a></div></div>
<div class="ttc" id="platform_8c_html_a7d38348525c2d88f56b48e4a5651ca7e"><div class="ttname"><a href="platform_8c.html#a7d38348525c2d88f56b48e4a5651ca7e">CONSOLE_INIT</a></div><div class="ttdeci">void CONSOLE_INIT(void)</div><div class="ttdoc">initialize console </div><div class="ttdef"><b>Definition:</b> <a href="platform_8c_source.html#l02081">platform.c:2081</a></div></div>
<div class="ttc" id="struct_a_r_g___a_s_s_o_c__s_html_aee318f2d398c2c2c3c2a88bfecf8225a"><div class="ttname"><a href="struct_a_r_g___a_s_s_o_c__s.html#aee318f2d398c2c2c3c2a88bfecf8225a">ARG_ASSOC_s::argass</a></div><div class="ttdeci">ARG_t argass</div><div class="ttdoc">associated argument type </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00157">main.c:157</a></div></div>
<div class="ttc" id="version_8h_html_a64d7b69eb90245360974277068bd3e4a"><div class="ttname"><a href="version_8h.html#a64d7b69eb90245360974277068bd3e4a">PRODUCTVERSTR</a></div><div class="ttdeci">#define PRODUCTVERSTR</div><div class="ttdoc">Product version string. </div><div class="ttdef"><b>Definition:</b> <a href="version_8h_source.html#l00038">version.h:38</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_ac31ca5e9cb3548a8a420c062a04b380b"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ac31ca5e9cb3548a8a420c062a04b380b">CL_ARGUMENTS_s::DoSafeBoot</a></div><div class="ttdeci">BOOL DoSafeBoot</div><div class="ttdoc">Command safeboot start before update. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00110">main.c:110</a></div></div>
<div class="ttc" id="main_8c_html_a8a99998555fe4b551e87b3b692af43b2"><div class="ttname"><a href="main_8c.html#a8a99998555fe4b551e87b3b692af43b2">ARG_ASSOC_t</a></div><div class="ttdeci">struct ARG_ASSOC_s ARG_ASSOC_t</div><div class="ttdoc">Arguments association. </div></div>
<div class="ttc" id="types_8h_html_aec78e7a9e90a406a56f859ee456e8eae"><div class="ttname"><a href="types_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a></div><div class="ttdeci">#define OUT</div><div class="ttdoc">dummy define for output argument </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00109">types.h:109</a></div></div>
<div class="ttc" id="main_8c_html_ad0b0fc12e44dd72f261ff298c56e4b54"><div class="ttname"><a href="main_8c.html#ad0b0fc12e44dd72f261ff298c56e4b54">ARG_t</a></div><div class="ttdeci">enum ARG_e ARG_t</div><div class="ttdoc">Argument enumeration. </div></div>
<div class="ttc" id="types_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdoc">Boolean FALSE. </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00075">types.h:75</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4acb3eae445f162782b1f569cb0023b33e">FILENAME</a></div><div class="ttdoc">Binary firmware image. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00135">main.c:135</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a46a07eabbc37e495d5f9eadf7b7184eb"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a46a07eabbc37e495d5f9eadf7b7184eb">CL_ARGUMENTS_s::EraseOnly</a></div><div class="ttdeci">BOOL EraseOnly</div><div class="ttdoc">Perform only erase operation. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00115">main.c:115</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4">ARG_e</a></div><div class="ttdeci">ARG_e</div><div class="ttdoc">Argument enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00126">main.c:126</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a7a348e97296a4bc7bdba813db7be0a7d">DOSAFEBOOT</a></div><div class="ttdoc">Safeboot flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00136">main.c:136</a></div></div>
<div class="ttc" id="main_8c_html_a2a22a0f0889f442944bc95e38c13fa17a2de82d028c7bed2e4f1ec6fc6cb6a53e"><div class="ttname"><a href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a2de82d028c7bed2e4f1ec6fc6cb6a53e">ERROR_ARGUMENTS</a></div><div class="ttdoc">return code in case of argument errors </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00095">main.c:95</a></div></div>
<div class="ttc" id="main_8c_html_a2a22a0f0889f442944bc95e38c13fa17a789481fc6e69b80424d3cb08be01e0d8"><div class="ttname"><a href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17a789481fc6e69b80424d3cb08be01e0d8">ERROR_UPDATE</a></div><div class="ttdoc">return code in case of update failure </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00096">main.c:96</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a672286d33299eacb9b49203d71a7ff97">BAUDRATE</a></div><div class="ttdoc">Baudrate. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00129">main.c:129</a></div></div>
<div class="ttc" id="main_8c_html_ab5932dc8383d29dcc5f1be36dc904622"><div class="ttname"><a href="main_8c.html#ab5932dc8383d29dcc5f1be36dc904622">knownArgs</a></div><div class="ttdeci">static ARG_ASSOC_t knownArgs[]</div><div class="ttdoc">known arguments and according identifier </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00186">main.c:186</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a6ae1dcae5498846ae2add477825d41b3">CHIP_ERASE</a></div><div class="ttdoc">Do a chip erase instead of sector erases. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00146">main.c:146</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_adfd477de102fd50469047b760714d24d"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#adfd477de102fd50469047b760714d24d">CL_ARGUMENTS_s::DoReset</a></div><div class="ttdeci">BOOL DoReset</div><div class="ttdoc">Reset receiver after FW update. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00111">main.c:111</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4abeb5be40ce3ee0425821ff9b3e00b171">UNKNOWN_ARG</a></div><div class="ttdoc">Unknown. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00128">main.c:128</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a1fae73e76e7ebfdd682f0627ba2f90b9">FLASHFILE</a></div><div class="ttdoc">Flash definition filename. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00131">main.c:131</a></div></div>
<div class="ttc" id="platform_8h_html_a3929e9f36e79265486c0cecdefcd6bb7"><div class="ttname"><a href="platform_8h.html#a3929e9f36e79265486c0cecdefcd6bb7">BaudrateDefaultI2C</a></div><div class="ttdeci">#define BaudrateDefaultI2C</div><div class="ttdoc">The default I2C Baudrate. </div><div class="ttdef"><b>Definition:</b> <a href="platform_8h_source.html#l00084">platform.h:84</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a765c11d2930c7c1dd273cc67540baf1e"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a765c11d2930c7c1dd273cc67540baf1e">CL_ARGUMENTS_s::BinaryFileName</a></div><div class="ttdeci">const char * BinaryFileName</div><div class="ttdoc">Filename of binary firmware image. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00103">main.c:103</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a87d3dbff33161c0c227bee873167c15c"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a87d3dbff33161c0c227bee873167c15c">CL_ARGUMENTS_s::Baudrate</a></div><div class="ttdeci">unsigned int Baudrate</div><div class="ttdoc">Baudrate for serial port (commanding to safeboot) </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00107">main.c:107</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a79f9bca48fa4533eaac5a3238327b3dc"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a79f9bca48fa4533eaac5a3238327b3dc">CL_ARGUMENTS_s::TrainingSequence</a></div><div class="ttdeci">BOOL TrainingSequence</div><div class="ttdoc">Training sequence. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00116">main.c:116</a></div></div>
<div class="ttc" id="main_8c_html_a6fe6191f438ec67844fe59d3bd65ca79"><div class="ttname"><a href="main_8c.html#a6fe6191f438ec67844fe59d3bd65ca79">RETURNCODE_t</a></div><div class="ttdeci">enum RETURNCODE_e RETURNCODE_t</div><div class="ttdoc">Return codes. </div></div>
<div class="ttc" id="platform_8h_html_a10cd4539bac4c67d55db0fa42b4a2333aadaa5a3fb3415c5881e70c7f762f8dd7"><div class="ttname"><a href="platform_8h.html#a10cd4539bac4c67d55db0fa42b4a2333aadaa5a3fb3415c5881e70c7f762f8dd7">MSG_LEV2</a></div><div class="ttdoc">Verbosity Level 2 message. </div><div class="ttdef"><b>Definition:</b> <a href="platform_8h_source.html#l00225">platform.h:225</a></div></div>
<div class="ttc" id="update_core_8h_html"><div class="ttname"><a href="update_core_8h.html">updateCore.h</a></div><div class="ttdoc">Declaration of function that handle the update on the receiver. </div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a62258cedb870ed0be06533c4df5ecc56"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a62258cedb870ed0be06533c4df5ecc56">USBPORT</a></div><div class="ttdoc">Is-usb-port flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00138">main.c:138</a></div></div>
<div class="ttc" id="version_8h_html"><div class="ttname"><a href="version_8h.html">version.h</a></div><div class="ttdoc">version information </div></div>
<div class="ttc" id="main_8c_html_a1770e2d49daeb5f1a6ef975c2a2134a1"><div class="ttname"><a href="main_8c.html#a1770e2d49daeb5f1a6ef975c2a2134a1">SetArgument</a></div><div class="ttdeci">BOOL SetArgument(ARG_t option, char const *value, CL_ARGUMENTS_pt clargs)</div><div class="ttdoc">Set program options. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00216">main.c:216</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a764aa5faa049a3a12215ecd99622d217">FIS_ONLY</a></div><div class="ttdoc">FIS only. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00145">main.c:145</a></div></div>
<div class="ttc" id="types_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdoc">Boolean TRUE. </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00076">types.h:76</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a9e8ee79caea56383032cc667eab2419c"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a9e8ee79caea56383032cc667eab2419c">CL_ARGUMENTS_s::usbAltMode</a></div><div class="ttdeci">BOOL usbAltMode</div><div class="ttdoc">Use USB alternative mode. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00121">main.c:121</a></div></div>
<div class="ttc" id="main_8c_html_a81402f23af960f778c6acc3f6730dad9"><div class="ttname"><a href="main_8c.html#a81402f23af960f778c6acc3f6730dad9">defaultargs</a></div><div class="ttdeci">const CL_ARGUMENTS_t defaultargs</div><div class="ttdoc">defaults if no command line arguments provided </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00162">main.c:162</a></div></div>
<div class="ttc" id="main_8c_html_adc8062581a282cd7c29dfdb58254408c"><div class="ttname"><a href="main_8c.html#adc8062581a282cd7c29dfdb58254408c">exename</a></div><div class="ttdeci">const char * exename</div><div class="ttdoc">executable name for usage </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00086">main.c:86</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afceb58c3aa42d7212b8bf244c1cc8cd1">FISFILE</a></div><div class="ttdoc">FIS filename. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00132">main.c:132</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae0bc6dc3f72c7f7ed46e8c5c20f0808c">AUTOBAUD</a></div><div class="ttdoc">Autobaud flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00140">main.c:140</a></div></div>
<div class="ttc" id="update_8c_html_a91fe63423c374194e5090f96e17064a6"><div class="ttname"><a href="update_8c.html#a91fe63423c374194e5090f96e17064a6">UpdateFirmware</a></div><div class="ttdeci">BOOL UpdateFirmware(const char *BinaryFileName, const char *FlashDefFileName, const char *FisFileName, const char *ComPort, const unsigned int Baudrate, const unsigned int BaudrateSafe, const unsigned int BaudrateUpd, BOOL DoSafeBoot, const BOOL DoReset, const BOOL DoAutobaud, const BOOL EraseWholeFlash, const BOOL EraseOnly, const BOOL TrainingSequence, const BOOL doChipErase, BOOL noFisMerging, BOOL updateRam, const BOOL usbAltMode, const int Verbose, const BOOL fisOnly)</div><div class="ttdoc">Perform Firmware update process. </div><div class="ttdef"><b>Definition:</b> <a href="update_8c_source.html#l00308">update.c:308</a></div></div>
<div class="ttc" id="main_8c_html_a4b6c75aab4206828d6f1ed6ed775d3de"><div class="ttname"><a href="main_8c.html#a4b6c75aab4206828d6f1ed6ed775d3de">ARG_pt</a></div><div class="ttdeci">ARG_t * ARG_pt</div><div class="ttdoc">pointer to ARG_t type </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00151">main.c:151</a></div></div>
<div class="ttc" id="main_8c_html_a1461e0d43f25b425d3ff968613ed2e73"><div class="ttname"><a href="main_8c.html#a1461e0d43f25b425d3ff968613ed2e73">GetArgAssociation</a></div><div class="ttdeci">ARG_t GetArgAssociation(char const *arg)</div><div class="ttdoc">Map the option to an enumeration type. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00437">main.c:437</a></div></div>
<div class="ttc" id="main_8c_html_afd18889a88289261642cfd93f5366c6a"><div class="ttname"><a href="main_8c.html#afd18889a88289261642cfd93f5366c6a">ARG_ASSOC_pt</a></div><div class="ttdeci">ARG_ASSOC_t * ARG_ASSOC_pt</div><div class="ttdoc">pointer to ARG_ASSOC_t type </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00159">main.c:159</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4ae3b1fc41dd9d6be426016d525576323f"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4ae3b1fc41dd9d6be426016d525576323f">RAMSAFEBOOT</a></div><div class="ttdoc">Ram-safeboot flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00137">main.c:137</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_a0771396b98e01c4687e1fe99a3e98c4b"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#a0771396b98e01c4687e1fe99a3e98c4b">CL_ARGUMENTS_s::Autobaud</a></div><div class="ttdeci">BOOL Autobaud</div><div class="ttdoc">Autobaud on safeboot identification. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00113">main.c:113</a></div></div>
<div class="ttc" id="main_8c_html_a5ac38161b930ab1663dd88b99331096a"><div class="ttname"><a href="main_8c.html#a5ac38161b930ab1663dd88b99331096a">CL_ARGUMENTS_pt</a></div><div class="ttdeci">CL_ARGUMENTS_t * CL_ARGUMENTS_pt</div><div class="ttdoc">pointer to CL_ARGUMENTS_t type </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00123">main.c:123</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a589b7d94a3d91d145720e2fed0eb3a05">RESET</a></div><div class="ttdoc">Reset after update flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00141">main.c:141</a></div></div>
<div class="ttc" id="struct_a_r_g___a_s_s_o_c__s_html"><div class="ttname"><a href="struct_a_r_g___a_s_s_o_c__s.html">ARG_ASSOC_s</a></div><div class="ttdoc">Arguments association. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00154">main.c:154</a></div></div>
<div class="ttc" id="types_8h_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="types_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdoc">dummy define for input argument </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00108">types.h:108</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a9f5cb747b2e1f0ea781d2b1f2a5b4824">HELP</a></div><div class="ttdoc">Help request. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00133">main.c:133</a></div></div>
<div class="ttc" id="struct_c_l___a_r_g_u_m_e_n_t_s__s_html_ad1813594d471edd678df822881ed840a"><div class="ttname"><a href="struct_c_l___a_r_g_u_m_e_n_t_s__s.html#ad1813594d471edd678df822881ed840a">CL_ARGUMENTS_s::noFisMerging</a></div><div class="ttdeci">BOOL noFisMerging</div><div class="ttdoc">Don&#39;t merge the image with anything. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00119">main.c:119</a></div></div>
<div class="ttc" id="main_8c_html_a2a22a0f0889f442944bc95e38c13fa17"><div class="ttname"><a href="main_8c.html#a2a22a0f0889f442944bc95e38c13fa17">RETURNCODE_e</a></div><div class="ttdeci">RETURNCODE_e</div><div class="ttdoc">Return codes. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00092">main.c:92</a></div></div>
<div class="ttc" id="update_8h_html"><div class="ttname"><a href="update_8h.html">update.h</a></div><div class="ttdoc">Firmware update process for u-blox 5/6. </div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4afb3887280ac028d170a399e036d02bc6">VERBOSITY</a></div><div class="ttdoc">Verbosity flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00139">main.c:139</a></div></div>
<div class="ttc" id="main_8c_html_a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a"><div class="ttname"><a href="main_8c.html#a5bde9228a9d7d1669766540a1225b0a4a52f49aba124a600ad9581caabe6a099a">VERSION</a></div><div class="ttdoc">Version request. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00134">main.c:134</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated on Sun May 23 2021 19:02:47 for ubxfwupdate by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
